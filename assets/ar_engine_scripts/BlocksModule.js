var BlocksModule=function(t,r,u,i){"use strict";var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function e(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}function n(t,e,n,o){var r,u=arguments.length,i=u<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;0<=c;c--)(r=t[c])&&(i=(u<3?r(i):3<u?r(e,n,i):r(e,n))||i);return 3<u&&i&&Object.defineProperty(e,n,i),i}var c=r.getNativeModule("Blocks");function p(t){return t&&t.toVec4?t.toVec4():void 0}var a=(l.prototype.instantiate=function(n,o){void 0===o&&(o={});var t=Promise.resolve("");return r.version.hasCapability("blocksDownloadable")&&(t=this.download(n)),t.then(function(){var t,e=null!=(t=o["name"])?t:r.version.hasChange(1276629687)?"dynamicBlock":"";return""==e&&(e="dynamicObject"),i.eventSourceToPromise(c.instantiate(n,e)).then(function(t){var n=u.getSceneObject(t);try{u.applySceneObjectInitialState(n,o)}catch(e){return r.getModule("Scene").destroy(n).then(function(t){return Promise.reject(e)})}return n})})},l.prototype.getInputs=function(){return void 0===this._inputs&&(this._inputs=new b),this._inputs},l.prototype.getOuptuts=function(){return void 0===this._outputs&&(this._outputs=new v),this._outputs},l.prototype.download=function(t){return i.eventSourceToPromise(c.download(t))},n([r.internal],l.prototype,"instantiate",null),n([r.internal],l.prototype,"getInputs",null),n([r.internal],l.prototype,"getOuptuts",null),n([r.internal],l.prototype,"download",null),l);function l(){}var s,y=(e(f,s=a),f.prototype.instantiate=function(t,e){return void 0===e&&(e={}),s.prototype.instantiate.call(this,t,e)},Object.defineProperty(f.prototype,"inputs",{get:function(){return s.prototype.getInputs.call(this)},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"outputs",{get:function(){return s.prototype.getOuptuts.call(this)},enumerable:!0,configurable:!0}),f.prototype.download=function(t){return s.prototype.download.call(this,t)},n([r.introducedBy(352065578),r.capability("scriptingDynamicInstantiation"),r.documentScope(r.DocumentType.Any)],f.prototype,"instantiate",null),n([r.introducedBy(263086233),r.capability("blocksScripting"),r.documentScope(r.DocumentType.SubEffect)],f.prototype,"inputs",null),n([r.introducedBy(263086233),r.capability("blocksScripting"),r.documentScope(r.DocumentType.SubEffect)],f.prototype,"outputs",null),n([r.introducedBy(2901246800),r.capability("blocksDownloadable")],f.prototype,"download",null),f=n([r.scriptingModule("Blocks"),r.documentScope(r.DocumentType.Any),r.capability("blocks"),r.capability("scriptingDynamicInstantiation"),r.introducedBy(352065578)],f));function f(){return null!==s&&s.apply(this,arguments)||this}var g,d=(e(S,g=a),S.prototype.instantiate=function(t,e){return void 0===e&&(e={}),g.prototype.instantiate.call(this,t,e)},Object.defineProperty(S.prototype,"inputs",{get:function(){return g.prototype.getInputs.call(this)},enumerable:!0,configurable:!0}),Object.defineProperty(S.prototype,"outputs",{get:function(){return g.prototype.getOuptuts.call(this)},enumerable:!0,configurable:!0}),S.prototype.download=function(t){return g.prototype.download.call(this,t)},n([r.introducedBy(352065578),r.capability("scriptingDynamicInstantiation"),r.documentScope(r.DocumentType.Any)],S.prototype,"instantiate",null),n([r.introducedBy(263086233),r.capability("blocksScripting"),r.documentScope(r.DocumentType.SubEffect)],S.prototype,"inputs",null),n([r.introducedBy(263086233),r.capability("blocksScripting"),r.documentScope(r.DocumentType.SubEffect)],S.prototype,"outputs",null),n([r.introducedBy(2901246800),r.capability("blocksDownloadable")],S.prototype,"download",null),S=n([r.scriptingModule("Blocks"),r.documentScope(r.DocumentType.Any),r.capability("blocks"),r.capability("blocksScripting"),r.introducedBy(263086233)],S));function S(){return null!==g&&g.apply(this,arguments)||this}var b=(m.prototype.getBoolean=function(t){return i.eventSourceToPromise(c.getInput(t,0)).then(function(t){return new i.BoolSignal(t)})},m.prototype.getScalar=function(t){return i.eventSourceToPromise(c.getInput(t,1)).then(function(t){return new i.ScalarSignal(t)})},m.prototype.getString=function(t){return i.eventSourceToPromise(c.getInput(t,2)).then(function(t){return new i.StringSignal(t)})},m.prototype.getPoint=function(t){return i.eventSourceToPromise(c.getInput(t,3)).then(function(t){return new i.PointSignal(t)})},m.prototype.getVector=function(t){return i.eventSourceToPromise(c.getInput(t,4)).then(function(t){return new i.VectorSignal(t)})},m.prototype.getColor=function(t){return i.eventSourceToPromise(c.getInput(t,5)).then(function(t){return i.rgbaFromVec4(new i.Point4DSignal(t))})},m.prototype.getPoint2D=function(t){return i.eventSourceToPromise(c.getInput(t,6)).then(function(t){return new i.Point2DSignal(t)})},m.prototype.getShader=function(t){return i.eventSourceToPromise(c.getInput(t,7)).then(function(t){return new i.ShaderSignal(t)})},m.prototype.getPulse=function(t){return i.eventSourceToPromise(c.getInput(t,8))},m.prototype.getBooleanOrFallback=function(t,e){return new i.BoolSignal(c.getInputOrFallback(t,0,i.ref(e)))},m.prototype.getScalarOrFallback=function(t,e){return new i.ScalarSignal(c.getInputOrFallback(t,1,i.ref(e)))},m.prototype.getStringOrFallback=function(t,e){return new i.StringSignal(c.getInputOrFallback(t,2,i.ref(e)))},m.prototype.getPointOrFallback=function(t,e){return new i.PointSignal(c.getInputOrFallback(t,3,i.ref(e)))},m.prototype.getVectorOrFallback=function(t,e){return new i.VectorSignal(c.getInputOrFallback(t,4,i.ref(e)))},m.prototype.getColorOrFallback=function(t,e){return i.rgbaFromVec4(new i.Point4DSignal(c.getInputOrFallback(t,5,i.ref(p(e)))))},m.prototype.getPoint2DOrFallback=function(t,e){return new i.Point2DSignal(c.getInputOrFallback(t,6,i.ref(e)))},m.prototype.getShaderOrFallback=function(t,e){return new i.ShaderSignal(c.getInputOrFallback(t,7,i.ref(e)))},m.prototype.getPulseOrFallback=function(t,e){return new i.EventSource(c.getInputOrFallback(t,8,i.ref(e)))},m=n([r.introducedBy(263086233),r.capability("blocksScripting"),r.documentScope(r.DocumentType.SubEffect)],m));function m(){}var v=(O.prototype.setBoolean=function(t,e){return i.eventSourceToPromise(c.setOutput(t,0,i.ref(e)))},O.prototype.setScalar=function(t,e){return i.eventSourceToPromise(c.setOutput(t,1,i.ref(e)))},O.prototype.setString=function(t,e){return i.eventSourceToPromise(c.setOutput(t,2,i.ref(e)))},O.prototype.setPoint=function(t,e){return i.eventSourceToPromise(c.setOutput(t,3,i.ref(e)))},O.prototype.setVector=function(t,e){return i.eventSourceToPromise(c.setOutput(t,4,i.ref(e)))},O.prototype.setColor=function(t,e){return i.eventSourceToPromise(c.setOutput(t,5,i.ref(p(e))))},O.prototype.setPoint2D=function(t,e){return i.eventSourceToPromise(c.setOutput(t,6,i.ref(e)))},O.prototype.setShader=function(t,e){return i.eventSourceToPromise(c.setOutput(t,7,i.ref(e)))},O.prototype.setPulse=function(t,e){return i.eventSourceToPromise(c.setOutput(t,8,i.ref(e)))},O=n([r.introducedBy(263086233),r.capability("blocksScripting"),r.documentScope(r.DocumentType.SubEffect)],O));function O(){}return t.BlocksModuleForBlocksScriptingIo=d,t.BlocksModuleForDynamicInstantiation=y,t}({},arfx,SceneModule,ReactiveModule);