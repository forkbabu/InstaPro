var TexturesModule=function(e,t,r,n,u){"use strict";var o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};function i(e,t){function r(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}function a(e,t,r,n){var o,i=arguments.length,u=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;0<=a;a--)(o=e[a])&&(u=(i<3?o(u):3<i?o(t,r,u):o(t,r))||u);return 3<i&&u&&Object.defineProperty(t,r,u),u}var l=t.getNativeModule("Textures"),c=(f.prototype.modelId=function(){return this._ref.id.value},Object.defineProperty(f.prototype,"name",{get:function(){return this._ref.constants.name},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"identifier",{get:function(){return this._ref.constants.identifier},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"signal",{get:function(){return new u.ShaderSignal(l.getTextureSignal(this.modelId()))},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"width",{get:function(){return new u.ScalarSignal(l.getTextureWidth(this.modelId()))},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"height",{get:function(){return new u.ScalarSignal(l.getTextureHeight(this.modelId()))},enumerable:!0,configurable:!0}),a([t.internal,t.nonenumerable],f.prototype,"_ref",void 0),a([t.internal,t.nonenumerable],f.prototype,"modelId",null),f);function f(e){this._ref=e}var s,p=(i(d,s=c),d);function d(){return null!==s&&s.apply(this,arguments)||this}var h,g=(i(y,h=c),y);function y(){return null!==h&&h.apply(this,arguments)||this}var m,b=(i(x,m=c),x);function x(){return null!==m&&m.apply(this,arguments)||this}var P,v=(i(_,P=c),_);function _(){return null!==P&&P.apply(this,arguments)||this}var T,S=(i(O,T=c),Object.defineProperty(O.prototype,"color",{set:function(e){this._ref.setColorProp("color",e)},enumerable:!0,configurable:!0}),O);function O(){return null!==T&&T.apply(this,arguments)||this}var j,w=(i(I,j=c),Object.defineProperty(I.prototype,"minU",{get:function(){return this._ref.getScalarSignal("x")},set:function(e){this._ref.setScalarProp("x",e)},enumerable:!0,configurable:!0}),Object.defineProperty(I.prototype,"minV",{get:function(){return this._ref.getScalarSignal("y")},set:function(e){this._ref.setScalarProp("y",e)},enumerable:!0,configurable:!0}),Object.defineProperty(I.prototype,"sizeU",{get:function(){return this._ref.getScalarSignal("width")},set:function(e){this._ref.setScalarProp("width",e)},enumerable:!0,configurable:!0}),Object.defineProperty(I.prototype,"sizeV",{get:function(){return this._ref.getScalarSignal("height")},set:function(e){this._ref.setScalarProp("height",e)},enumerable:!0,configurable:!0}),I);function I(){return null!==j&&j.apply(this,arguments)||this}var C,N=(i(R,C=c),Object.defineProperty(R.prototype,"currentFrame",{get:function(){return this._ref.getScalarSignal("currentFrame")},set:function(e){this._ref.setScalarProp("currentFrame",e)},enumerable:!0,configurable:!0}),R);function R(){return null!==C&&C.apply(this,arguments)||this}var M,U=(i(A,M=c),A.prototype.addPath=function(e,t,r,n,o,i){l.addCanvasPath(this.modelId(),u.ref(e),u.ref(t),r,n,o,i)},A.prototype.clearPaths=function(){l.clearCanvasPaths(this.modelId())},A);function A(){return null!==M&&M.apply(this,arguments)||this}var B={cameraTexture:g,canvas_texture_model:U,colorTexture:S,texture:p,sequenceTexture:N,subTexture:w,renderPassOutputTexture:v,souceImageRegionTexture:b};function F(e){return e.replace(/\\/g,"\\\\").replace(/\*/g,"\\*")}function k(e){var t=B[e.kind];if(null==t)throw"unexpected texture type: "+e.kind;return new t(e)}function q(e,t){return r.model_search.findByName(new r.model.NodeId(n.texturesChildrenNodeId),e,!1,t).map(k)}var z=(D.prototype.getAll=function(){return this.findUsingPattern("*")},D.prototype.findFirst=function(e){return this.findUsingPattern(F(e),{limit:1}).then(function(e){return 0==e.length?null:e[0]})},D.prototype.get=function(e){var t=q(F(e),1);if(0==t.length)throw new Error("No texture found with name: "+e);return t[0]},D.prototype.findUsingPattern=function(e,t){return Promise.resolve(q(e,null==t?void 0:t.limit))},a([t.deprecatedAndRemovedBy(1592880538,3756104542,"Please use `Textures.getAll`, `Textures.findFirst` or `Textures.findUsingPattern`")],D.prototype,"get",null),D=a([t.scriptingModule("Textures"),t.documentScope(t.DocumentType.Any)],D));function D(){}return e.CameraTexture=g,e.CanvasTexture=U,e.ColorTexture=S,e.ImageTexture=p,e.SequenceTexture=N,e.SourceImageRegionTexture=b,e.SubTexture=w,e.TextureBase=c,e.TexturesModule=z,e.getTextureById=function(e){var t=r.model_search.findByIdentifier(new r.model.NodeId(n.texturesChildrenNodeId),e,!1,1);return 1===t.length?k(t[0]):null},e.registerTextureClass=function(e,t){B[e]=t},e}({},arfx,CoreModule,params,ReactiveModule);