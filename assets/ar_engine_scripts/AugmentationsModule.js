var AugmentationsModule=function(t,e,a,i){"use strict";function n(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;0<=s;s--)(a=t[s])&&(r=(i<3?a(r):3<i?a(e,n,r):a(e,n))||r);return 3<i&&r&&Object.defineProperty(e,n,r),r}var o;(o=t.AugmentationInstanceState||(t.AugmentationInstanceState={}))["INSTANTIATED"]="INSTANTIATED",o["REMOVING"]="REMOVING",o["REMOVED"]="REMOVED";var r;t.AugmentationInstanceState.INSTANTIATED,t.AugmentationInstanceState.REMOVING,t.AugmentationInstanceState.REMOVED;(r=t.AugmentationState||(t.AugmentationState={}))["DOWNLOADING"]="DOWNLOADING",r["DOWNLOADED"]="DOWNLOADED",r["FAILED"]="FAILED";t.AugmentationState.DOWNLOADING,t.AugmentationState.DOWNLOADED,t.AugmentationState.FAILED;var s=e.getNativeModule("Augmentations"),u=(Object.defineProperty(c.prototype,"state",{get:function(){return void 0===this._stateSignal&&(this._stateSignal=new i.StringSignal(s.newAugInstanceStateSignal(this._ref))),this._stateSignal},enumerable:!0,configurable:!0}),c.prototype.remove=function(){return i.eventSourceToPromise(s.delAugInstance(this._ref))},c=n([e.capability("remoteAugmentations"),e.documentScope(e.DocumentType.Effect)],c));function c(t){this._ref=t}var g=(Object.defineProperty(f.prototype,"state",{get:function(){return void 0===this._stateSignal&&(this._stateSignal=new i.StringSignal(s.newAugStateSignal(this._effectId))),this._stateSignal},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"downloadProgress",{get:function(){return void 0===this._downloadProgressSignal&&(this._downloadProgressSignal=new i.ScalarSignal(s.newAugProgressSignal(this._effectId))),this._downloadProgressSignal},enumerable:!0,configurable:!0}),f.prototype.instantiate=function(t){return i.eventSourceToPromise(s.newAugInstance(this._effectId,t)).then(function(t){return new u(t)})},f=n([e.capability("remoteAugmentations"),e.documentScope(e.DocumentType.Effect)],f));function f(t){this._effectId=t}var m=(l.prototype.instantiate=function(t,e){return a.isEnabled?a.isMaster?i.eventSourceToPromise(s.instantiate(t,e)):new Promise(function(t,e){e("Augmentations are only available for master effect")}):new Promise(function(t,e){e("Augmentations are not available on this platform")})},l.prototype.remove=function(t){return a.isEnabled?a.isMaster?i.eventSourceToPromise(s.remove(t)):new Promise(function(t,e){e("Augmentations are only available for master effect")}):new Promise(function(t,e){e("Augmentations are not available on this platform")})},l.prototype.getConfig=function(){return a.isEnabled?i.eventSourceToPromise(s.getConfig()):new Promise(function(t,e){e("Augmentations are not available on this platform")})},l.prototype.requestAugmentation=function(t){if(!a.isEnabled)return new Promise(function(t,e){e("Augmentations are not available on this platform")});if(!a.isMaster)return new Promise(function(t,e){e("Augmentations are only available for master effect")});var e=t["effectID"];if(void 0===e||"string"!=typeof e)return new Promise(function(t,e){e("'effectID' parameter must be provided to requestAugmentation call")});void 0===this._augs&&(this._augs={});var n=this._augs,o=n[e];return void 0!==o?new Promise(function(t,e){t(o)}):i.eventSourceToPromise(s.requestAug(e)).then(function(){var t=new g(e);return n[e]=t})},n([e.enumAccessor,e.capability("remoteAugmentations")],l.prototype,"AugmentationState",void 0),n([e.enumAccessor,e.capability("remoteAugmentations")],l.prototype,"AugmentationInstanceState",void 0),l=n([e.capability("remoteAugmentations"),e.scriptingModule("Augmentations"),e.documentScope(e.DocumentType.Effect)],l));function l(){this.AugmentationState=t.AugmentationState,this.AugmentationInstanceState=t.AugmentationInstanceState}return t.Augmentation=g,t.AugmentationInstance=u,t.AugmentationsModule=m,t}({},arfx,params,ReactiveModule);